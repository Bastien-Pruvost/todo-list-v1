(()=>{"use strict";var e=localStorage.getItem("todoList"),t=JSON.parse(e)||[],n=document.querySelector(".todo-list"),i=document.querySelector(".todo-add"),o=document.querySelector(".todo-add__text-input"),c=document.querySelector(".delete-finished-task-btn"),d=function(){n.innerHTML="",t.map((function(e,t){e.editMode?s(e,t):u(e,t)}))},u=function(e,t){var i=document.querySelector("#task-template"),o=document.importNode(i.content,!0),c=o.querySelector(".task__toggle-finish"),d=o.querySelector(".task__text"),u=o.querySelector(".task__edit-btn"),s=o.querySelector(".task__delete-btn");d.textContent=e.text,e.isFinished&&c.classList.add("finished"),c.addEventListener("click",(function(){l(),m(t)})),u.addEventListener("click",(function(){l(),a(t)})),s.addEventListener("click",(function(){v(t)})),n.append(o)},s=function(e,t){var i=document.querySelector("#task-template-edit-mode"),o=document.importNode(i.content,!0),c=o.querySelector(".task__toggle-finish"),d=o.querySelector(".task__input"),u=o.querySelector(".save-form"),s=o.querySelector(".task__cancel-btn");d.value=e.text,e.isFinished&&c.classList.add("finished"),c.addEventListener("click",(function(){m(t)})),u.addEventListener("submit",(function(e){e.preventDefault(),f(d.value,t)})),s.addEventListener("click",(function(){a(t)})),n.append(o),d.focus()},r=function(){localStorage.setItem("todoList",JSON.stringify(t))},a=function(e){t[e].editMode=!t[e].editMode,r(),d()},l=function(){return t.forEach((function(e){return e.editMode=!1}))},f=function(e,n){t[n].text=e,a(n),r(),d()},v=function(e){t.splice(e,1),r(),d()},m=function(e){t[e].isFinished=!t[e].isFinished,t[e].isFinished&&t.push(t.splice(e,1)[0]),r(),d()};i.addEventListener("submit",(function(e){var n;e.preventDefault(),n={text:o.value,isFinished:!1,editMode:!1},o.value&&t.unshift(n),o.value="",r(),d(),o.focus()})),c.addEventListener("click",(function(){t=t.filter((function(e){return!e.isFinished})),r(),d()})),d()})();
//# sourceMappingURL=main.bundle.js.map